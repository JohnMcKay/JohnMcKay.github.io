<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <title>John McKay, PhD</title>
  <meta name="description" content="Personal site of John McKay: Machine Learning Engineer & Data Scientist." />

  <!-- Critical CSS (performance) -->
  <style>
    :root{
      --bg:#0b0c10; --panel:#111217; --text:#e9eef2; --muted:#a9b3bd;
      --brand:#4da3ff; --accent:#8b5cf6; --radius:12px; --maxw:1200px;
      --shadow:0 6px 24px rgba(0,0,0,.25);
      --step--1: clamp(.88rem,.84rem + .2vw,.98rem);
      --step-0: clamp(1rem,.95rem + .4vw,1.125rem);
      --step-1: clamp(1.25rem,1.1rem + 1vw,1.5rem);
      --step-2: clamp(1.5rem,1.2rem + 1.6vw,2rem);
      --step-3: clamp(2rem,1.6rem + 2.6vw,2.75rem);
    }
    @media (prefers-color-scheme: light){
      :root{ --bg:#ffffff; --panel:#f7f8fa; --text:#0b1220; --muted:#5b6470; }
    }
    *{ box-sizing:border-box }
    html,body{ height:100% }
    body{
      margin:0; background:var(--bg); color:var(--text);
      font:400 var(--step-0) ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }
    a{ color:var(--brand); text-decoration:none }
    a:hover{ text-decoration:underline }
    img{ max-width:100%; height:auto; border-radius: calc(var(--radius) - 4px); }
    .container{ width:min(100% - 2rem,var(--maxw)); margin-inline:auto }
    .stack{ display:grid; gap:clamp(1rem,2vw,2rem) }
    .cluster{ display:flex; flex-wrap:wrap; gap:.75rem; align-items:center }
    .btn{
      display:inline-flex; align-items:center; gap:.5rem; padding:.7rem 1rem;
      border-radius:999px; background:linear-gradient(135deg,var(--brand),var(--accent));
      color:#fff; box-shadow:var(--shadow); border:0;
    }
    .btn--ghost{
      background:transparent; color:var(--brand);
      border:1px solid color-mix(in oklab, var(--brand), transparent 70%);
    }
    header.site{
      position:sticky; top:0; z-index:100; backdrop-filter:blur(10px);
      background:color-mix(in oklab, var(--bg), transparent 20%);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    nav .logo{ font-weight:700; letter-spacing:.2px }
    nav ul{ list-style:none; margin:0; padding:0 }
    nav a{ padding:.75rem 1rem; border-radius:999px }
    main{ padding-block:clamp(2rem,3vw,4rem) }
    section.card{
      background:var(--panel); border:1px solid rgba(255,255,255,.06);
      border-radius:var(--radius); padding:clamp(1rem,2vw,2rem); box-shadow:var(--shadow);
    }
    .hero{
      display:grid; grid-template-columns:1.1fr .9fr;
      gap:clamp(1rem,3vw,3rem); align-items:center;
      padding-block:clamp(2rem,5vw,5rem);
    }
    @media (max-width:900px){ .hero{ grid-template-columns:1fr } }
    h1{ font-size:var(--step-3); line-height:1.1; margin:0 0 .5rem }
    h2{ font-size:var(--step-2); line-height:1.15; margin:0 0 .25rem }
    p.lead{ color:var(--muted); font-size:var(--step-1) }
    :focus-visible{ outline:2px solid var(--brand); outline-offset:3px; border-radius:6px }
    @media (prefers-reduced-motion: reduce){
      *{ animation:none !important; transition:none !important }
    }
    .muted{ color:var(--muted) }
  </style>

  <!-- Non-critical CSS (async) -->
  <link rel="preload" href="css/styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="css/styles.css"></noscript>
</head>
<body>
  <header class="site">
    <div class="container cluster" style="justify-content:space-between; padding:.6rem 0;">
      <a class="logo" href="/">John McKay</a>
      <nav aria-label="Primary">
        <ul class="cluster" role="list">
          <li><a href="#about">About</a></li>
          <li><a href="#publications">Publications</a></li>
          <li><a href="#talks">Talks</a></li>
          <li><a href="#contact" class="btn btn--ghost">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="container stack">
    <!-- HERO -->
    <section class="hero">
      <div class="stack">
        <h1>John McKay, PhD</h1>
        <p class="lead">Machine Learning Engineer & Data Scientist</p>
        <div class="cluster">
          <a class="btn" href="resume.pdf">View resume (PDF)</a>
          <a class="btn btn--ghost" href="#publications">See publications</a>
        </div>
      </div>
      <figure class="card">
        <!-- Keep or remove if no image available -->
        <img loading="eager" width="1200" height="800" alt="John presenting research"
             src="figs/hero.avif" onerror="this.style.display='none'">
      </figure>
    </section>

    <!-- ABOUT: keep your existing text -->
    <section id="about" class="card stack" aria-labelledby="about-h">
      <h2 id="about-h">About</h2>
      <p>
        Hello! I'm John McKay, a research scientist focusing on applying machine learning
        to transport service problems… <!-- Keep your current copy here -->
      </p>
    </section>

    <!-- PUBLICATIONS -->
    <section id="publications" class="stack" aria-labelledby="pubs-h">
      <h2 id="pubs-h">Publications</h2>
      <div class="stack" style="display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:1rem;">
        <article class="card stack">
          <h3>Neural Networks, Cost Functions, and What Happens When You Ignore Math</h3>
          <p class="muted">Talk materials.</p>
          <a class="btn btn--ghost" href="mckay2019pitt.pdf">Open PDF</a>
        </article>
        <article class="card stack">
          <h3>Deep Learning: An Engineer’s Dream and a Mathematician’s Nightmare</h3>
          <p class="muted">Talk materials.</p>
          <a class="btn btn--ghost" href="CNNtalk.pdf">Open PDF</a>
        </article>
      </div>
    </section>

    <!-- TALKS -->
    <section id="talks" class="card stack" aria-labelledby="talks-h">
      <h2 id="talks-h">Talks</h2>
      <ul>
        <li><a href="CNNtalk.pdf">Deep Learning: An Engineer’s Dream and a Mathematician’s Nightmare (PDF)</a></li>
        <li><a href="mckay2019pitt.pdf">Neural Networks, Cost Functions… (PDF)</a></li>
      </ul>
    </section>

    <!-- CONTACT -->
    <section id="contact" class="card stack" aria-labelledby="contact-h">
      <h2 id="contact-h">Contact</h2>
      <ul>
        <li>Email: <a href="mailto:JMcKayPitt@gmail.com">JMcKayPitt@gmail.com</a></li>
        <li>GitHub: <a href="https://github.com/JohnMcKay">github.com/JohnMcKay</a></li>
        <li>LinkedIn: <a href="https://www.linkedin.com/in/john-mckay-146bb645/">LinkedIn profile</a></li>
      </ul>
    </section>
  </main>

  <footer class="container stack" style="padding:2rem 0; color:var(--muted);">
    <small>© <span id="y"></span> John McKay. All rights reserved.</small>
  </footer>

  <script type="module">
    document.getElementById('y').textContent = new Date().getFullYear();
    if (!matchMedia('(prefers-reduced-motion: reduce)').matches){
      const io = new IntersectionObserver((entries)=>{
        for (const e of entries){
          if (e.isIntersecting){
            e.target.animate(
              [{opacity:0, transform:'translateY(8px)'},{opacity:1, transform:'none'}],
              {duration:500, easing:'cubic-bezier(.2,.7,.2,1)', fill:'both'}
            );
            io.unobserve(e.target);
          }
        }
      }, {rootMargin:'-10% 0px -10% 0px'});
      document.querySelectorAll('section.card, article.card').forEach(el=>io.observe(el));
    }
  </script>
</body>
</html>
